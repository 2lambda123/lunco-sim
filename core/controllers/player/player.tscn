[gd_scene load_steps=44 format=3 uid="uid://c1a1fnwfincby"]

[ext_resource type="Script" path="res://core/controllers/player/player.gd" id="1_x30wa"]
[ext_resource type="PackedScene" uid="uid://baunvflaucrbn" path="res://addons/lunco-content/player/player.tscn" id="2_u7v3q"]
[ext_resource type="Script" path="res://addons/imjp94.yafsm/src/StateMachinePlayer.gd" id="10_dyuf0"]
[ext_resource type="Script" path="res://addons/imjp94.yafsm/src/states/StateMachine.gd" id="11_il1ei"]
[ext_resource type="Script" path="res://addons/imjp94.yafsm/src/states/State.gd" id="12_ykhkp"]
[ext_resource type="Script" path="res://addons/imjp94.yafsm/src/conditions/Condition.gd" id="13_f7xb0"]
[ext_resource type="Script" path="res://addons/imjp94.yafsm/src/transitions/Transition.gd" id="14_hdtt7"]
[ext_resource type="Script" path="res://addons/imjp94.yafsm/src/conditions/FloatCondition.gd" id="15_kex0t"]
[ext_resource type="Script" path="res://addons/imjp94.yafsm/src/conditions/BooleanCondition.gd" id="16_tqoiv"]

[sub_resource type="Resource" id="45"]
script = ExtResource("12_ykhkp")
name = "Aiming"
metadata/graph_offset = Vector2(419.5, 1.5)

[sub_resource type="Resource" id="37"]
script = ExtResource("12_ykhkp")
name = "Entry"
metadata/graph_offset = Vector2(-76, 101.5)

[sub_resource type="Resource" id="36"]
script = ExtResource("12_ykhkp")
name = "Idle"
metadata/graph_offset = Vector2(104, 221.5)

[sub_resource type="Resource" id="41"]
script = ExtResource("12_ykhkp")
name = "Jump"
metadata/graph_offset = Vector2(664, 381.5)

[sub_resource type="Resource" id="56"]
script = ExtResource("12_ykhkp")
name = "Landed"
metadata/graph_offset = Vector2(-41.5, 261.5)

[sub_resource type="Resource" id="42"]
script = ExtResource("12_ykhkp")
name = "Move"
metadata/graph_offset = Vector2(364, 121.5)

[sub_resource type="Resource" id="43"]
script = ExtResource("12_ykhkp")
name = "On Air"
metadata/graph_offset = Vector2(102, 401.5)

[sub_resource type="Resource" id="44"]
script = ExtResource("12_ykhkp")
name = "Shooting"
metadata/graph_offset = Vector2(973, 121.5)

[sub_resource type="Resource" id="77"]
script = ExtResource("13_f7xb0")
name = "jump"

[sub_resource type="Resource" id="78"]
script = ExtResource("14_hdtt7")
from = "Aiming"
to = "Jump"
conditions = {
"jump": SubResource("77")
}
priority = 0

[sub_resource type="Resource" id="76"]
script = ExtResource("15_kex0t")
value = 0.0
comparation = 5
name = "fire_cooldown"

[sub_resource type="Resource" id="69"]
script = ExtResource("13_f7xb0")
name = "shoot"

[sub_resource type="Resource" id="70"]
script = ExtResource("14_hdtt7")
from = "Aiming"
to = "Shooting"
conditions = {
"fire_cooldown": SubResource("76"),
"shoot": SubResource("69")
}
priority = 0

[sub_resource type="Resource" id="39"]
script = ExtResource("14_hdtt7")
from = "Entry"
to = "Idle"
conditions = {}
priority = 0

[sub_resource type="Resource" id="71"]
script = ExtResource("13_f7xb0")
name = "aim"

[sub_resource type="Resource" id="72"]
script = ExtResource("14_hdtt7")
from = "Idle"
to = "Aiming"
conditions = {
"aim": SubResource("71")
}
priority = 0

[sub_resource type="Resource" id="57"]
script = ExtResource("13_f7xb0")
name = "jump"

[sub_resource type="Resource" id="46"]
script = ExtResource("14_hdtt7")
from = "Idle"
to = "Jump"
conditions = {
"jump": SubResource("57")
}
priority = 0

[sub_resource type="Resource" id="58"]
script = ExtResource("13_f7xb0")
name = "move"

[sub_resource type="Resource" id="47"]
script = ExtResource("14_hdtt7")
from = "Idle"
to = "Move"
conditions = {
"move": SubResource("58")
}
priority = 0

[sub_resource type="Resource" id="67"]
script = ExtResource("16_tqoiv")
value = false
comparation = 0
name = "on_floor"

[sub_resource type="Resource" id="48"]
script = ExtResource("14_hdtt7")
from = "Jump"
to = "On Air"
conditions = {
"on_floor": SubResource("67")
}
priority = 0

[sub_resource type="Resource" id="68"]
script = ExtResource("16_tqoiv")
value = true
comparation = 0
name = "on_floor"

[sub_resource type="Resource" id="64"]
script = ExtResource("14_hdtt7")
from = "Landed"
to = "Idle"
conditions = {
"on_floor": SubResource("68")
}
priority = 0

[sub_resource type="Resource" id="73"]
script = ExtResource("13_f7xb0")
name = "aim"

[sub_resource type="Resource" id="74"]
script = ExtResource("14_hdtt7")
from = "Move"
to = "Aiming"
conditions = {
"aim": SubResource("73")
}
priority = 0

[sub_resource type="Resource" id="61"]
script = ExtResource("13_f7xb0")
name = "stop"

[sub_resource type="Resource" id="62"]
script = ExtResource("14_hdtt7")
from = "Move"
to = "Idle"
conditions = {
"stop": SubResource("61")
}
priority = 0

[sub_resource type="Resource" id="59"]
script = ExtResource("13_f7xb0")
name = "jump"

[sub_resource type="Resource" id="60"]
script = ExtResource("14_hdtt7")
from = "Move"
to = "Jump"
conditions = {
"jump": SubResource("59")
}
priority = 0

[sub_resource type="Resource" id="66"]
script = ExtResource("16_tqoiv")
value = true
comparation = 0
name = "on_floor"

[sub_resource type="Resource" id="63"]
script = ExtResource("14_hdtt7")
from = "On Air"
to = "Landed"
conditions = {
"on_floor": SubResource("66")
}
priority = 0

[sub_resource type="Resource" id="75"]
script = ExtResource("14_hdtt7")
from = "Shooting"
to = "Idle"
conditions = {}
priority = 0

[sub_resource type="Resource" id="40"]
script = ExtResource("11_il1ei")
states = {
"Aiming": SubResource("45"),
"Entry": SubResource("37"),
"Idle": SubResource("36"),
"Jump": SubResource("41"),
"Landed": SubResource("56"),
"Move": SubResource("42"),
"On Air": SubResource("43"),
"Shooting": SubResource("44")
}
transitions = {
"Aiming": {
"Jump": SubResource("78"),
"Shooting": SubResource("70")
},
"Entry": {
"Idle": SubResource("39")
},
"Idle": {
"Aiming": SubResource("72"),
"Jump": SubResource("46"),
"Move": SubResource("47")
},
"Jump": {
"On Air": SubResource("48")
},
"Landed": {
"Idle": SubResource("64")
},
"Move": {
"Aiming": SubResource("74"),
"Idle": SubResource("62"),
"Jump": SubResource("60")
},
"On Air": {
"Landed": SubResource("63")
},
"Shooting": {
"Idle": SubResource("75")
}
}
name = ""

[node name="Player" type="Node3D"]
script = ExtResource("1_x30wa")

[node name="Player" parent="." instance=ExtResource("2_u7v3q")]

[node name="State" type="Node" parent="."]
script = ExtResource("10_dyuf0")
state_machine = SubResource("40")

[connection signal="transited" from="State" to="." method="_on_StatePlayer_transited"]
